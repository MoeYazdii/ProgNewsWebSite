@model DataLayer.NewsPage

@{
    ViewBag.Title = "ShowNews";
}

<ul class="breadcrumb">
    <li class="breadcrumb-item"><a href="/">خانه </a></li>
    <li class="breadcrumb-item"><a href="/Archive">اخبار </a></li>
    <li class="breadcrumb-item"><a href="#"> @Model.PageGroup.GroupTitle </a></li>
    <li class="breadcrumb-item active"> @Model.Title </li>
</ul>

<section class="single-news border-radius">
    <header><h2> @Model.Title </h2> <span> <i class="fa fa-calendar"></i>  انتشار : @DateTime.Now.ToShamsi() </span></header>
    <article>
        <p>
            @Model.ShortDescription
        </p>
        <div>
            <img src="~/PageImages/@Model.ImageName" class="thumbnail" style="max-width:100%; 10px auto" />
        </div>
        <p>
            @Model.Text
        </p>
    </article>
</section>
<div class="keywords border-radius">
    <a href=""> کلمات کلیدی </a>
    <a href=""> کلمات کلیدی </a>
    <a href=""> کلمات کلیدی </a>
    <a href=""> کلمات کلیدی </a>
    <a href=""> کلمات کلیدی </a>
    <a href=""> کلمات کلیدی </a>
</div>

<section class="comment-layer">
    <header> <i class="fa fa-comments"></i><h5> دیدگاه کاربران </h5><span> @Model.PagesComments.Count دیدگاه </span> </header>
    <ul id="commentList">
        <!-- start each comment -->
        @Html.Action("ShowComments")
        <!-- end each comment -->

    </ul>


    <h6> شما هم دیدگاه خود را ارسال کنید </h6>
    <form class="comment-form" action="" method="post">
        <div>
            <input placeholder=" نام و نام خانوادگی" type="text" id="txtName">
            <input placeholder=" ایمیل خود را وارد نمایید " type="email" id="txtEmail">
        </div>
        <textarea placeholder=" متن دیدگاه" id="txtComment"> </textarea>
        <input  value="ثبت دیدگاه ارزشمند شما " type="button" style="width: 100%; border: 0; padding: 5px; color: #fff; background-color: #0EB501; line-height: 30px;" onclick="addComment()">
    </form>
</section>


<script>
    
    function addComment() {
        $.ajax({
            url: "/News/AddComment/@Model.PageID",
            type: "Get",
            data: { name: $("#txtName").val(), email: $("#txtEmail").val(), comment: $("#txtComment").val() }
        }).done(function (result) {

            $("#commentList").html(result);
            $("#txtName").val("");
            $("#txtEmail").val("");
            $("#txtComment").val("");
        });
    }

</script>